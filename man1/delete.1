.\"	$Source: /afs/dev.mit.edu/source/repository/athena/bin/delete/man1/delete.1,v $
.\"	$Author: jik $
.\"	$Header: /afs/dev.mit.edu/source/repository/athena/bin/delete/man1/delete.1,v 1.1 1989-01-26 09:55:51 jik Exp $
.\" Copyright 1989 by the Massachusetts Institute of Technology.  All
.\" rights reserved.  The file /usr/include/mit-copyright.h specifies
.\" the terms and conditions for redistribution.
.\"
.\"
.TH DELETE 1 "January 26, 1988" "MIT Project Athena"
.ds ]W MIT Project Athena
.SH NAME
delete \- a recoverable file-deletion utility
.SH SYNOPSIS
.B delete
[
.B \-r
] [
.B \-i
] [
.B \-f
] [
.B \-n
] [
.B \-v
] [
.B \-F
] [
.B \-D
] [
.B \-\-
] file ...
.PP
.SH DESCRIPTION
.I Delete
marks files and directories for later permanent removal by renaming
them with a prefix of `.#'.  Files accidentally marked for deletion
can be recovered using
.I undelete(1).
Marked files are periodically
removed automatically by the system; they can also be removed on demand
(see \fIpurge\fR(1) and \fIexpunge\fR(1) for details).
Users can list files which have been marked for
removal but have not yet been removed using \fIlsdel\fR(1).
.PP
If the user does not have write permission to a file, its permissions
are printed and the user is asked whether the file should be removed.
If the first character of the response line is \fIy\fR the file is
removed, otherwise it remains.
.PP
Users wishing to retain the user interface of \fIrm\fR(1)
and \fIrmdir\fR(1)
while still being able to recover accidentally removed files can do so
by aliasing
.I rm
to
.I delete -F
and
.I rmdir
to
.I delete -D
(see below).
.SH OPTIONS
.I Delete
accepts the following command-line options:
.TP
.B \-r
If a designated file is a non-empty directory,
.I delete
will signal an error unless the
.B \-r
option is specified.  In that case,
.I delete
recursively deletes the directory's entire contents and the directory
itself.  If the
.B \-F
option is specified (see below),
.I delete
will signal an error even if the directory is empty.
.TP
.B \-i
Causes
.I delete
to ask whether to delete each file, and, in recursive
mode, whether to examine each directory.
.TP
.B \-f
Prevents
.I delete
from asking any questions or reporting any errors.
.TP
.B \-n
No file removals are performed.  Instead,
.I delete
prints to the standard output the files that it would remove were the
.B \-n
option not specified.
.TP
.B \-v
Causes
.I delete
to report each file as it is deleted.
.TP
.B \-F
Causes
.I delete
to emulate
.I rm
by preventing it from removing even empty directories when the
.B \-r
option is not specified.
.TP
.B \-D
Causes
.I delete
to emulate
.I rmdir
by preventing it from removing anything but empty directories.
.TP
.B \-\-
Two dashes indicate that all the arguments following it are to be treated as
file names, even if they start with a dash.
.SH "SEE ALSO"
undelete(1), purge(1), expunge(1), lsdel(1), rm(1), rmdir(1)
.SH AUTHOR
Jonathan I. Kamens (MIT-Project Athena)
.SH RESTRICTIONS
Copyright (c) 1989 by the Massachusetts Institute of Technology.  All
rights reserved.
